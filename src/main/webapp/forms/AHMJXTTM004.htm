<div id="AHMJXTTM004" class="div-app" data-version="1.0">
	<div class="global_message">

	</div>

	<div class="row">
		<div class="col-md-12">
			<ul class="nav nav-tabs">
				<li class="active"><a href="#menu1" class="inner-tab">Channel</a></li>
			

			</ul>
		</div>
	</div>

	<div class="row">
		<div class="col-md-12">
			<div class="tab-content">
				<div id="menu1" class="tab-pane fade in active ">
					<div class="col-md-4">
						<table id="tree4">
						</table>
					</div>
					<div class="col-md-8">
						<form class="form-horizontal">
						<div id="formMd" style="display: block;">
							<div class="form-group pull-right">
								<button class="btn btn-default btn-primary large-button" onclick="menu1SaveData(this);return false;">Simpan</button>
							</div>
							<input type="hidden" name="id" data-field="id"/>
							<div class="form-group large-font">
								<label for="menu1p01Code" class="col-sm-3 control-label">Kode Main Dealer </label>
								<div class="col-sm-6">
									<input id="menu1p01Code" name="menu1p01Code" class="form-control" data-field="menu1p01Code" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p01Name" class="col-sm-3 control-label">Nama Main Dealer </label>
								<div class="col-sm-6">
									<input id="menu1p01Name" name="menu1p01Name" class="form-control" data-field="menu1p01Name" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p01Address" class="col-sm-3 control-label">Alamat </label>
								<div class="col-sm-6">
									<textarea id="menu1p01Address" name="menu1p01Address" class="form-control" rows="3" data-field="menu1p01Address" readonly></textarea>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p01Phone" class="col-sm-3 control-label">Telp </label>
								<div class="col-sm-6">
									<input id="menu1p01Phone" name="menu1p01Phone" class="form-control" data-field="menu1p01Phone" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p01Area" class="col-sm-3 control-label">Area Kerja </label>
								<div class="col-sm-6">
									<input id="menu1p01Area" name="menu1p01Area" size="15" maxlength="15" style="width:40%" class="form-control" data-field="menu1p01Area">
								</div>
							</div>
							
						</div>
						
						<!-- form Dealer -->
						
						<div id="formDealer" style="display: none;">
							<div class="form-group large-font">
								<label for="menu1p02Code" class="col-sm-3 control-label">Kode Dealer </label>
								<div class="col-sm-6">
									<input id="menu1p02Code" name="menu1p02Code" class="form-control" data-field="menu1p02Code" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Name" class="col-sm-3 control-label">Nama Dealer</label>
								<div class="col-sm-6">
									<input id="menu1p02Name" name="menu1p02Name" class="form-control" data-field="menu1p02Name" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Status" class="col-sm-3 control-label">Status</label>
								<div class="col-sm-6">
									<input id="menu1p02Status" name="menu1p02Status" class="form-control" data-field="menu1p02Status" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Prov" class="col-sm-3 control-label">Provinsi</label>
								<div class="col-sm-6">
									<input id="menu1p02Prov" name="menu1p02Prov" class="form-control" data-field="menu1p02Prov" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Kab" class="col-sm-3 control-label">Kabupaten </label>
								<div class="col-sm-6">
									<input id="menu1p02Kab" name="menu1p02Kab" class="form-control" data-field="menu1p02Kab" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Kec" class="col-sm-3 control-label">Kecamatan </label>
								<div class="col-sm-6">
									<input id="menu1p02Kec" name="menu1p02Kec" class="form-control" data-field="menu1p02Kec" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Kel" class="col-sm-3 control-label">Kelurahan </label>
								<div class="col-sm-6">
									<input id="menu1p02Kel" name="menu1p02Kel" class="form-control" data-field="menu1p02Kel" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Address" class="col-sm-3 control-label">Alamat </label>
								<div class="col-sm-6">
									<input id="menu1p02Address" name="menu1p02Address" class="form-control" data-field="menu1p02Address" readonly>
								</div>
							</div>
							<div class="form-group large-font">
								<label for="menu1p02Telp" class="col-sm-3 control-label">Telp </label>
								<div class="col-sm-6">
									<input id="menu1p02Telp" name="menu1p02Telp" class="form-control" data-field="menu1p02Telp" readonly>
								</div>
							</div>
						</div>
						</form>
					</div>
				</div>
			</div>
		</div> <!-- end of tab-content -->
	</div>
</div>

<script type="text/javascript">

	var xdata;
	//var SOURCE= CLIPBOARD = null;
		var SOURCE = [
		    {title: "Asia Surya Perkasa",id:"1",address:"Jl. Asia Surya",phone:"0219999",area:"Jakarta",code:"md", children: [
		      {title: "Jatinegara Motor",id:"2",status:"Aktif",prov:"Jakarta",kab:"Jakarta Timur",kec:"Jatinegara",kel:"Jatinegara Barat",address:"Jl. Jatinegara Raya",phone:"021999898889",code:"d"},
		      {title: "47 Motor",id:"3",status:"Aktif",prov:"Jakarta",kab:"Jakarta Timur",kec:"Cipinang",kel:"Cipinang Besar",address:"Jl. Cipinang Raya",phone:"021909090",code:"d"}
		     ]},
		    {title: "Astra Motor Balikpapan",id:"4",address:"Jl. Balikpapan Raya",phone:"0259090909",area:"Balikpapan",code:"md",children: [
		      {title: "Balikpapan Motor 1",id:"5",status:"Tidak Aktif",prov:"Kalimantan Timur",kab:"Balikpapan",kec:"Balikpapan Timur",kel:"Blkpapan",address:"Jl. Balikpapan Raya",phone:"023908989",code:"d"},
		      {title: "Balikpapan Motor 2",id:"6",status:"Aktif",prov:"Kalimantan Timur",kab:"Balikpapan",kec:"Balikpapan",kel:"Balikpapan Barat",address:"Jl. Balikpapan Raya",phone:"024989898",code:"d"}
		     ]}
		     
		  ],
		  CLIPBOARD = null;

		  
	$(function(){
		$(".nav-tabs a").click(function(){
		$(this).tab('show');
	});

	/* $.ajax({type: "GET",url: baseURL+"/api/ttm001/sf",contentType: "application/json",
			dataType: 'json',async: false,data: JSON.stringify()})
		.done(function(data){
			var parsed = JSON.parse(JSON.stringify(data), function(k, v) {
				if (k === "description") 
					this.title = v;
				else if (k === "categories")
					this.children = v;
				else
					return v;}
			);
			x = parsed;
			console.log("source==>",SOURCE);
	}) ;  */

	$("#tree4").fancytree({
		source: SOURCE,
		 activate: function(event, data) {
		        var node = data.node;
		       if (node.data.code=="md")
			       {
		            mdShow(node);    		
			       }
		       else{
			       dealerShow(node);
		           }
		      },
		});
	});

	function mdShow(node){
			document.getElementById('formDealer').style.display = "none";
	        document.getElementById('formMd').style.display = "block";	
	        document.getElementById("menu1p01Code").value = node.data.id;
	        document.getElementById("menu1p01Name").value = node.title;
	        document.getElementById("menu1p01Address").value = node.data.address;
	        document.getElementById("menu1p01Phone").value = node.data.phone;
	        document.getElementById("menu1p01Area").value = node.data.area;
	        }

    function dealerShow(node)
    	{
			document.getElementById('formMd').style.display = "none";
    	    document.getElementById('formDealer').style.display = "block";	
	        document.getElementById("menu1p02Code").value = node.data.id;
	        document.getElementById("menu1p02Name").value = node.title;
	        document.getElementById("menu1p02Status").value = node.data.status;
	        document.getElementById("menu1p02Prov").value = node.data.prov;
	        document.getElementById("menu1p02Kab").value = node.data.kab;
	        document.getElementById("menu1p02Kec").value = node.data.kec;
	        document.getElementById("menu1p02Kel").value = node.data.kel;
	        document.getElementById("menu1p02Address").value = node.data.address;
	        document.getElementById("menu1p02Telp").value = node.data.phone;
    	}
  

</script>
