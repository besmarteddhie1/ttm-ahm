<div id="AHMJXUAM010" class="div-app" data-version="1.0">
    <div class="global_message">

    </div>
    
    <div id="ahmjxuam010p01" class="subpage subpage-default" data-path="Maintain License">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group large-font">
                    <label>Search</label>
                    <div class="input-group">
                        <input id="ahmjxuam010p01Search" type="text" class="form-control" placeholder="Search...">
                        <span class="input-group-btn">
                            <button class="btn btn-primary large-button default" type="button" 
                                    onclick="$('#ahmjxuam010p01SearchTable').bootstrapTable('refresh');">Search</button>
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group small-font">
                    <label>Upload License</label>
                    <form class="dropzone" id="ahmjxuam010p01Upload" 
                          enctype="multipart/form-data" style="height: 39px;">
                    </form>
                </div>
            </div>
        </div>
        <div id="table-container">
            <table id="ahmjxuam010p01SearchTable"
                   data-method="post"
                   data-url="/uam010/paging"
                   data-content-type="application/json"
                   data-data-type="json"
                   data-query-params-type="limit"
                   data-query-params="ahmjxuam010Presearch"
                   data-response-handler="loadData"
                   data-side-pagination="server"
                   data-pagination="true"
                   data-unique-id="vid">

                <thead>
                    <tr>
                        <th data-field="vdealercode" 
                            data-sortable="true"
                            data-visible="true"
                            >Dealer Code</th>
                        <th data-field="vname" 
                            data-sortable="true"
                            data-visible="true"
                            >Dealer Name</th>
                        <th data-field="vmdcode" 
                            data-sortable="true"
                            data-visible="true"
                            >Main Dealer Code</th>
                        <th data-field="vlevel" 
                            data-sortable="true"
                            data-visible="true"
                            >Level</th>
                        <th data-field="dbegineff"
                            data-sortable="true"
                            data-visible="true"
                            >Start Effective</th>
                        <th data-field="dendeff" 
                            data-sortable="true"
                            data-visible="true"
                            >End Effective</th>
                    </tr>
                </thead>
            </table>




        </div>

    </div>
</div>

<script type="text/javascript">
    
    $(document).ready(function() {
        $('#ahmjxuam010p01Upload').dropzone({ 
            url: baseURL+"/uam010/upload",
            method:"post",
            maxFilesize: 100,
            paramName: "fileToUpload",
            uploadMultiple: false,
            maxFiles:1,
            previewTemplate: "<div class=\"\">"+
                "<div style=\"float:left\" class=\"dz-filename\">"+
                "<span data-dz-name></span>"+
                "</div>"+
                "</div>",
        
            init: function() {
                this.on("maxfilesexceeded", function(file) {
                    this.removeAllFiles();
                    this.addFile(file);
                });
                this.on('success', function(file, json) {
                    if(json.stat == "200") {
                        _fw_setMessage($('#ahmjxuam010p01Upload'), "1", json);
                    }else{
                        _fw_setMessage($('#ahmjxuam010p01Upload'), "0", json);
                    }
                });

                this.on('addedfile', function(file) {
            
                });

                this.on('drop', function(file) {
            
                }); 
            }
        });
        
    });
    
    function ahmjxuam010Presearch(params){
        params.search = {"any": $('#ahmjxuam010p01Search').val()};
        if(params.sort == undefined){
            return{
                limit : params.limit,
                offset : params.offset,
                search : params.search
            }
        }
        return params;
    }
    
    
</script>


